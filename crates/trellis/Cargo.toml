[package]
name = "trellis"
version.workspace = true
edition.workspace = true
license.workspace = true
description = "Composable derive macros for common Rust patterns"

[dependencies]
trellis-core = { path = "../trellis-core" }
trellis-macros = { path = "../trellis-macros" }

# Re-export common dependencies users will need
serde = { version = "1", features = ["derive"] }
serde_json = "1"

# Optional dependencies for generated code
[dependencies.axum]
version = "0.8"
optional = true

[dependencies.clap]
version = "4"
optional = true

[features]
default = []
http = ["axum"]
cli = ["clap"]
full = ["http", "cli"]

[dev-dependencies]
tokio = { version = "1", features = ["full"] }
trybuild = "1"
axum = "0.8"
clap = "4"
